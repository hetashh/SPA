@model IEnumerable<SPA.ViewModels.AdminDashboardViewModel>

@{
    Layout = "_Layout";
    ViewData["Title"] = "Панель администратора";
}

<h2>Панель администратора</h2>

@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success">
        @TempData["SuccessMessage"]
    </div>
}

@foreach (var user in Model)
{
    <h3>Пользователь: @user.UserName</h3>
    <p>Баланс: $@user.Balance</p>
    <h4>Бронирования:</h4>
    <ul>
        @foreach (var booking in user.Bookings)
        {
            <li>
                @booking.ProcedureName - @booking.BookingTime
                <form asp-action="CancelBooking" method="post" style="display:inline;">
                    <input type="hidden" name="bookingId" value="@booking.BookingId" />
                    <button type="submit">Отменить</button>
                </form>
            </li>
        }
    </ul>
}
